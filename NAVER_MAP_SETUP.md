# 🗺️ 네이버 지도 API 설정 가이드

> **정확한 위치 정보 + 길찾기 기능**  
> 네이버 지도 API를 활용한 완벽한 위치 서비스

## 🎯 주요 기능

- ✅ **정확한 위치 표시**: 네이버 지도 API로 정확한 위치 표시
- ✅ **길찾기 기능**: 네이버 지도 앱으로 바로 길찾기
- ✅ **교통 정보**: 지하철, 버스 정보 제공
- ✅ **주차 안내**: 주차장 정보 및 무료 주차 시간
- ✅ **배차 안내**: 신랑/신부측 배차 정보
- ✅ **반응형 지도**: 모든 기기에서 최적화

## 1. 🌐 네이버 클라우드 플랫폼 가입

1. [네이버 클라우드 플랫폼](https://www.ncloud.com/) 접속
2. 네이버 계정으로 가입 및 로그인
3. 본인 인증 완료 (휴대폰 인증)

## 2. 📍 Maps API 활성화

1. 네이버 클라우드 플랫폼 콘솔 접속
2. **"Products & Services"** → **"AI·Application Service"** → **"Maps"** 이동
3. **"Application 등록"** 버튼 클릭

## 3. 🔧 애플리케이션 등록

### 기본 정보 입력
- **애플리케이션 이름**: `Wedding Invitation Map` (또는 원하는 이름)
- **서비스 환경**: **"WEB"** 선택
- **플랫폼**: **"Web"** 선택

### 웹 서비스 URL 등록
다음 URL들을 모두 등록해야 합니다:

```
# 개발 환경
http://localhost:3000

# 배포 환경 (실제 도메인)
https://your-wedding-site.com
https://your-wedding-site.vercel.app
```

**⚠️ 중요**: 로컬 개발과 실제 배포 URL을 모두 등록해야 합니다!

## 4. 🔑 API 키 확인

1. 애플리케이션 등록 완료 후
2. **"인증 정보"** 탭에서 **Client ID** 확인
3. Client ID를 복사하여 저장

## 5. 📝 환경 변수 설정

`.env.local` 파일에 Client ID 추가:

```bash
# 네이버 지도 API (필수)
NEXT_PUBLIC_NAVER_MAP_CLIENT_ID=your_naver_map_client_id
```

## 6. 🗺️ 지도 정보 설정

`src/config/wedding-config.ts` 파일에서 지도 정보 설정:

```typescript
venue: {
  name: "빌라드지디 안산",
  address: "경기 안산시 단원구 광덕4로 140\n빌라드지디 안산 7층 그레이스켈리홀",
  tel: "031-487-8100",
  naverMapId: "그레이스켈리홀", // 네이버 지도 검색용 장소명
  coordinates: {
    latitude: 37.314924,  // 위도
    longitude: 126.8278801 // 경도
  },
  placeId: "34291584", // 네이버 지도 장소 ID
  mapZoom: "15",       // 지도 줌 레벨
  mapNaverCoordinates: "14141300,4507203,15,0,0,0,dh", // 네이버 지도 길찾기 URL용 좌표
  transportation: {
    subway: "지하철 4호선 고잔역 2번 출구 (도보 10분)",
    bus: "간선\n 101, 102, 103\n지선\n 1234, 5678",
  },
  parking: "건물 주차장 이용 가능 (2시간 무료)",
}
```

## 7. 📍 좌표 및 장소 ID 찾는 방법

### 방법 1: 네이버 지도 웹사이트 사용

1. [네이버 지도](https://map.naver.com) 접속
2. 결혼식장 검색 (예: "그레이스켈리홀")
3. 검색된 장소 클릭하여 상세 정보 확인
4. 브라우저 주소창에서 URL 확인:
   ```
   https://map.naver.com/p/search/그레이스켈리홀/place/34291584
   ```
   - 마지막 숫자 `34291584`가 `placeId`

### 방법 2: 길찾기 URL에서 좌표 확인

1. 네이버 지도에서 길찾기 클릭
2. URL에서 좌표 정보 확인:
   ```
   https://map.naver.com/p/directions/-/-/-/walk/place/34291584?c=15,0,0,0,dh
   ```
   - `c=` 다음의 첫 번째 값 `15`가 `mapZoom` 값

### 방법 3: 개발자 도구 사용

1. 네이버 지도에서 장소 클릭
2. F12로 개발자 도구 열기
3. 콘솔에서 다음 명령어 실행:
   ```javascript
   // 현재 지도 중심 좌표 확인
   console.log(map.getCenter().toString());
   // 출력: lat: 37.314924, lng: 126.8278801
   ```

## 8. 🚌 배차 안내 설정

신랑/신부측 배차 정보를 설정할 수 있습니다:

```typescript
venue: {
  // ... 기본 정보
  
  // 신랑측 배차 안내 (없으면 표시되지 않음)
  groomShuttle: {
    location: "서울역 2번 출구 앞",
    departureTime: "오전 10시 30분 출발",
    contact: {
      name: "김철수",
      tel: "010-1234-5678"
    }
  },
  
  // 신부측 배차 안내 (없으면 표시되지 않음)
  brideShuttle: {
    location: "강남역 4번 출구 앞",
    departureTime: "오전 11시 출발",
    contact: {
      name: "박영희",
      tel: "010-8765-4321"
    }
  }
}
```

## 9. 🚀 테스트 및 배포

### 로컬 테스트
1. 개발 서버 실행: `npm run dev`
2. 브라우저에서 [http://localhost:3000](http://localhost:3000) 접속
3. 지도 섹션에서 네이버 지도가 정상적으로 표시되는지 확인

### 배포 후 테스트
1. Vercel/Netlify에 배포
2. 실제 도메인에서 지도 기능 테스트
3. 길찾기 버튼 클릭하여 네이버 지도 앱 연결 확인

## 🐛 문제 해결

### 지도가 표시되지 않는 경우

1. **환경 변수 확인**
   ```bash
   # .env.local 파일에 올바른 Client ID가 설정되어 있는지 확인
   NEXT_PUBLIC_NAVER_MAP_CLIENT_ID=your_actual_client_id
   ```

2. **네이버 클라우드 플랫폼 설정 확인**
   - 웹 서비스 URL에 현재 접속 중인 도메인이 등록되어 있는지 확인
   - 로컬 개발 시: `http://localhost:3000`
   - 배포 시: `https://your-wedding-site.com`

3. **브라우저 콘솔 확인**
   - F12로 개발자 도구 열기
   - Console 탭에서 오류 메시지 확인
   - Network 탭에서 API 요청 상태 확인

### 인증 오류가 발생하는 경우

**오류 메시지**: `"인증에 실패했습니다"` 또는 `"Authentication failed"`

**해결 방법**:
1. Client ID가 정확한지 확인
2. 웹 서비스 URL이 정확히 등록되었는지 확인
3. 도메인에 `http://` 또는 `https://`가 포함되어 있는지 확인
4. 포트 번호가 포함되어 있는지 확인 (로컬 개발 시)

### 지도가 로드되지 않는 경우

**오류 메시지**: `"지도를 불러올 수 없습니다"`

**해결 방법**:
1. 네트워크 연결 상태 확인
2. 네이버 지도 API 서비스 상태 확인
3. 브라우저 캐시 클리어
4. 다른 브라우저에서 테스트

## 📊 사용량 모니터링

네이버 클라우드 플랫폼 콘솔에서 확인 가능:
- **API 호출 횟수**: 일일/월간 사용량
- **에러 발생률**: API 호출 실패율
- **응답 시간**: API 응답 속도

## 💰 비용 정보

- **무료 할당량**: 월 1,000회 API 호출
- **초과 시**: 1,000회당 100원
- **웨딩 청첩장 용도**: 일반적으로 무료 할당량 내에서 충분

## 🎯 완성 체크리스트

- [ ] 네이버 클라우드 플랫폼 가입 완료
- [ ] Maps API 애플리케이션 등록 완료
- [ ] 웹 서비스 URL 등록 완료 (로컬 + 배포)
- [ ] Client ID 환경 변수 설정 완료
- [ ] 지도 정보 설정 완료 (좌표, placeId, zoom 등)
- [ ] 로컬에서 지도 정상 표시 확인
- [ ] 배포 후 지도 정상 표시 확인
- [ ] 길찾기 기능 정상 작동 확인
- [ ] 배차 안내 정보 표시 확인

---

**🎉 완성! 이제 정확한 위치 정보와 길찾기 기능이 포함된 완벽한 웨딩 청첩장이 완성되었습니다!**
